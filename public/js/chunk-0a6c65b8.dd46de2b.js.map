{"version":3,"sources":["webpack:///./src/views/AddArticle.vue?466d","webpack:///src/views/AddArticle.vue","webpack:///./src/views/AddArticle.vue?1301","webpack:///./src/views/AddArticle.vue","webpack:///./src/views/AddArticle.vue?08db"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","_v","model","value","callback","$$v","article_title","expression","article_content","save","staticRenderFns","data","methods","$router","go","$route","params","id","$axios","post","article_id","title","content","console","log","res","getDetail","created","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQC,GAAG,CAAC,MAAQR,EAAIS,SAAS,CAACT,EAAIU,GAAG,WAAW,GAAGN,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIU,GAAG,YAAYN,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,iCAAiCI,MAAM,CAACC,MAAOZ,EAAiB,cAAEa,SAAS,SAAUC,GAAMd,EAAIe,cAAcD,GAAKE,WAAW,mBAAmBZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIU,GAAG,sBAAsBN,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,eAAe,CAACO,MAAM,CAACC,MAAOZ,EAAmB,gBAAEa,SAAS,SAAUC,GAAMd,EAAIiB,gBAAgBH,GAAKE,WAAW,sBAAsB,GAAGZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAASC,GAAG,CAAC,MAAQR,EAAIkB,OAAO,CAAClB,EAAIU,GAAG,WAAW,IAAI,IACt3BS,EAAkB,GCoBtB,GACEC,KADF,WAEI,MAAO,CACLL,cAAe,GACfE,gBAAiB,KAGrBI,QAAS,CACPZ,OADJ,WAEMR,KAAKqB,QAAQC,IAAI,IAEnBL,KAJJ,WAIA,WACoC,MAA1BjB,KAAKuB,OAAOC,OAAOC,GACrBzB,KAAK0B,OACb,yBACU,MAAV,mBACU,QAAV,qBACU,KAAV,qCAEA,kBACA,iBACY,EAAZ,UACc,QAAd,iBACc,KAAd,YAGU,YAAV,WACY,EAAZ,wBACA,QAGQ1B,KAAK0B,OAAOC,KAAK,sBAAzB,CACUH,OAAV,CACYI,WAAZ,sBACYC,MAAO7B,KAAKc,cACZgB,QAAS9B,KAAKgB,mBAE1B,kBACUe,QAAQC,IAAIC,OAIlBC,UAnCJ,WAmCA,WACMlC,KAAK0B,OACX,2BACQ,OAAR,CAAU,WAAV,yBAEA,kBACQ,EAAR,mCACQ,EAAR,4CAIES,QArDF,WAsDkC,MAA1BnC,KAAKuB,OAAOC,OAAOC,IACrBzB,KAAKkC,cC5EyU,I,wBCQhVE,EAAY,eACd,EACAtC,EACAoB,GACA,EACA,KACA,WACA,MAIa,aAAAkB,E,oECnBf,yBAA2iB,EAAG","file":"js/chunk-0a6c65b8.dd46de2b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit_wrap wrapper\"},[_c('div',{staticClass:\"backBtn\"},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.goBack}},[_vm._v(\"Back\")])],1),_c('div',{staticClass:\"edit_title\"},[_vm._v(\"title:\")]),_c('el-input',{attrs:{\"placeholder\":\"please edit the article title\"},model:{value:(_vm.article_title),callback:function ($$v) {_vm.article_title=$$v},expression:\"article_title\"}}),_c('div',{staticClass:\"edit_title\"},[_vm._v(\"article content:\")]),_c('div',{staticClass:\"markdown\"},[_c('mavon-editor',{model:{value:(_vm.article_content),callback:function ($$v) {_vm.article_content=$$v},expression:\"article_content\"}})],1),_c('div',{staticClass:\"save_btn\"},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"edit_wrap wrapper\">\n    <div class=\"backBtn\">\n      <el-button type=\"success\" @click=\"goBack\" size=\"mini\">Back</el-button>\n    </div>\n    <div class=\"edit_title\">title:</div>\n    <el-input\n      v-model=\"article_title\"\n      placeholder=\"please edit the article title\"\n    ></el-input>\n    <div class=\"edit_title\">article content:</div>\n    <div class=\"markdown\">\n      <mavon-editor v-model=\"article_content\" />\n    </div>\n    <div class=\"save_btn\">\n      <el-button type=\"success\" size=\"small\" @click=\"save\">save</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      article_title: \"\",\n      article_content: \"\"\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    save() {\n      if (this.$route.params.id === \"0\") {\n        this.$axios\n          .post(\"/api/article/add\", {\n            title: this.article_title,\n            content: this.article_content,\n            user: sessionStorage.getItem(\"username\")\n          })\n          .then(value => {\n            if (value.data.code === 0) {\n              this.$message({\n                message: \"update success\",\n                type: \"success\"\n              });\n            }\n            setTimeout(() => {\n              this.$router.push(\"/blog\");\n            }, 1000);\n          });\n      }else {\n        this.$axios.post('/api/article/update',{\n          params:{\n            article_id:this.$route.params.id,\n            title: this.article_title,\n            content: this.article_content\n          }\n        }).then(res=>{\n          console.log(res);\n        })\n      }\n    },\n    getDetail() {\n      this.$axios\n        .get(\"/api/article/detail\", {\n          params: { article_id: this.$route.params.id }\n        })\n        .then(res => {\n          this.article_title = res.data.article.title;\n          this.article_content = res.data.article.content;\n        });\n    }\n  },\n  created() {\n    if (this.$route.params.id !== \"0\") {\n      this.getDetail();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.edit_wrap {\n  margin: 30px auto;\n  background: #fff;\n  font-size: 16px;\n  padding: 40px;\n  .backBtn {\n    text-align: right;\n    margin-bottom: 40px;\n  }\n  .edit_title {\n    text-align: left;\n    font-weight: 700;\n    margin: 30px 0;\n  }\n  .save_btn {\n    text-align: right;\n    margin: 40px 0;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddArticle.vue?vue&type=template&id=0b308397&scoped=true&\"\nimport script from \"./AddArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./AddArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddArticle.vue?vue&type=style&index=0&id=0b308397&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b308397\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=style&index=0&id=0b308397&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=style&index=0&id=0b308397&lang=less&scoped=true&\""],"sourceRoot":""}